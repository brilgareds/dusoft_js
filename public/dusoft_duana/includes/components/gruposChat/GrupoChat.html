<div class="modal-header">
  <button type="button" class="close" ng-click="onCerrar()">&times;</button>
    <h4 class="modal-title">Seleccionar los grupos o usuarios para iniciar la conversación: </h4>
    <h5><span ng-bind="rootExistencias.producto.getDescripcion()"></span></h5>
</div>
<div class="modal-body">
    
    
    <tabset> <!--Grupo de Tabs-->

    <tab active="rootPedidoFarmaciaTemporal.tabListaPedidos">

        <tab-heading>
            <span></span> <b>Selección de usuarios </b>
        </tab-heading>
            
        <br>
        <div class="btn-group">
            <button class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" >
                Filtrar por: <span ng-if="root.filtro.usuarios">Usuarios</span><span ng-if="root.filtro.grupos">Grupos</span>
               <span class="caret"></span>
            </button>
            <ul class="dropdown-menu dropdown-options">
                <li >
                    <a href="javascript:void(0);" ng-click="onCambiarFiltro(0)"  >Usuarios</a>
                </li>
                <li><a href="javascript:void(0);" ng-click="onCambiarFiltro(1)" >Grupos</a></li>

            </ul>
        </div>
        <div ng-if="root.filtro.grupos">
            <div class="input-group navbar-form">

                <input type="text" class="form-control pull-right" ng-keypress="onBuscarUsuario($event)" ng-model="root.terminoBusqueda" placeholder="Buscar grupo" />
                <div class="input-group-btn" >
                    <button class="btn btn-default" type="submit" ng-click="onBuscarUsuario({which:13})"><i class="glyphicon glyphicon-search"></i></button>
                </div>

            </div>

            <div class="defaultGrid " ng-grid="listaGrupos" >

            </div>

            <br>

            <div class="row text-center">
                <button type="button" class="btn btn-default btn-medium" ng-disabled="root.paginaactual == 1" ng-click="paginaAnterior()">
                    <span class="glyphicon glyphicon-chevron-left" ></span>
                </button>
                <button type="button" class="btn btn-default btn-medium" ng-disabled="root.grupos.length == 0" ng-click="paginaSiguiente()">
                    <span class="glyphicon glyphicon-chevron-right" ></span>
                </button>
            </div>

        </div>

        <usuarios  btn-seleccionar="true" btn-detalle="false" ng-if="root.filtro.usuarios"></usuarios>





        </tab>

        <tab >
            <tab-heading>
                <i class="glyphicon glyphicon-cloud-upload"></i> <b> Usuarios seleccionados </b>
            </tab-heading>
            <br>
            <div class="defaultGrid " ng-grid="listaUsuariosSeleccionados" >

            </div>

        </tab>                    
    </tabset> 
    
    <div class="modal-footer" style="padding-left: 0px; padding-right: 0px;">
        <button class="btn btn-primary" ng-click="onActualizarExistenciasProducto()" >Crear Conversacion</button>

    </div>
</div>

