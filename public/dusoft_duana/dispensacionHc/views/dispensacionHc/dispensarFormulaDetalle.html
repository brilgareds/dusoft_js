
    <div ng-controller="dispensacionHcDetalleController">
      
         
        
        <div class="row">
            <div class="col-md-12">
                <div class="panel panel-default">
                    <div class="panel-heading clearfix">
                        <div class="pull-left">
                            <h4 class="text-center"><strong>Informacion Formula</strong></h4>
                        </div>
                       
                    </div>
                    <div class="panel-body">                    
                        <div class="row">
                            
                               
                            <div class="col-md-3">

                                 <fieldset>
                                    <legend>Documento</legend> 
                                    <div class="row">  
                                        <div class="col-md-7" style="margin-top: -14px">                                          
                                            <h4><strong>CC 11122549636</strong></h4>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>                        
                              <div class="col-md-3">

                                 <fieldset>
                                    <legend>Paciente</legend> 
                                    <div class="row">  
                                        <div class="col-md-7" style="margin-top: -14px">                                        
                                             <h4><strong>Pepito perez perez</strong></h4>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>  
                            
                           <div class="col-md-2">

                                 <fieldset>
                                    <legend>Fecha registro</legend> 
                                    <div class="row">  
                                        <div class="col-md-7" style="margin-top: -14px">                                          
                                            <h4><strong>2016-05-24</strong></h4>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>                     
                             <div class="col-md-2">

                                 <fieldset>
                                    <legend>Fecha formula</legend> 
                                    <div class="row">  
                                        <div class="col-md-7" style="margin-top: -14px">                                          
                                            <h4><strong>2016-05-24</strong></h4>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>                       
                            <div class="col-md-2">
                                <fieldset>
                                    <legend>Evolution</legend> 
                                    <div class="row">
                                        <div class="col-md-7" style="margin-top: -14px">  
                                            <h4><strong>11122554</strong></h4>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                         
                            
                            
                        </div>
                        
                                             
                        <!-- -->
                        <div class="row">  
                            <div class="col-md-12">
                                <tabset>
                                    <tab heading="Incluir Productos Manual" active="datos_view.activar_tab.tab_productos">
                                        <br>
                                        <div class="row">  
                                            <div class="col-md-12">

                                                <div class="row">  
                                                    <div class="">
                                                        <div class="col-md-3">
                                                            <p class="input-group">
                                                                <button type="button" class="btn btn-default btn-medium pull-right ng-scope" ng-disabled="validacion_buscar_productos() || Pedido.get_aprobado_cartera() ==5" ng-click="buscar_productos()" > 
                                                                    <span class="glyphicon glyphicon-plus"></span> Buscar Productos
                                                                </button>
                                                            </p>
                                                        </div>

                                                    </div>

                                                </div>
                                                
                                                <div class="table-responsive" >
                                                    <div class="defaultGrid grid-responsive" style="clear:both; " > </div>
                                               </div>
   
                                            </div>
                                        </div>   
                                    </tab>                        
                                    <tab active="datos_view.activar_tab.tab_cargar_archivo">
                                        <tab-heading>
                                            <i class="glyphicon glyphicon-cloud-upload"></i> Cargar Archivo Plano
                                        </tab-heading>

                                        <div class="row col-md-8 col-md-offset-2" style="margin-top: 25px">    

                                            <div flow-init="opciones_archivo"  flow-file-success="respuesta_archivo_plano($file, $message);" flow-file-added="!!{xls:1,xlsx:1}[$file.getExtension()]" flow-files-submitted="cargar_archivo_plano($flow)" class="ng-scope" flow-prevent-drop=""  flow-drag-enter="dropClass='drag-over'" flow-drag-leave="dropClass=''" >
                                                <div class="drop txt-center" flow-drop="" flow-drop-enabled="!validacion_buscar_productos()  && !(Pedido.get_numero_pedido() > 0)" ng-class="dropClass" >

                                                    <div class="col-md-12">
                                                        <img  ng-hide="$flow.files.length" src="../../../images/Cloud-Upload-Blue.png" style="max-width: 200px; max-height: 150px; line-height: 20px; margin-bottom: 5px;"/>
                                                        <img ng-show="$flow.files.length" src="../../../images/xls.png" style="max-width: 200px; max-height: 150px; line-height: 20px; margin-bottom: 5px;"/>
                                                    </div>
                                                    <div ng-hide="$flow.files.length">
                                                        <b>OR</b> Arrastrar y Soltar el archivo AQUI!!..                                                    
                                                    </div>
                                                    <div class="" ng-repeat="file in $flow.files" ng-show="$flow.files.length">
                                                        Nombre Archivo : <label>{{file.name}}</label>   
                                                        
                                                        <div class="progress progress-striped" ng-class="{active: file.isUploading()}">
                                                            <div class="progress-bar" role="progressbar" aria-valuenow="100" aria-valuemin="0"
                                                                 aria-valuemax="100" ng-style="{width: datos_view.progresoArchivo + '%'}">
                                                            </div>
                                                            <span class="sr-only ng-binding">{{datos_view.progresoArchivo}}% Completado</span>
                                                        </div>
                                                    </div> 
                                                </div>

                                                <br>

                                                <div class="well txt-center">
                                                    <span class="btn btn-default" flow-btn="" ng-hide="$flow.files.length" ng-disabled="validacion_buscar_productos() || Pedido.get_numero_pedido() > 0">
                                                        <span class="glyphicon glyphicon-folder-open" style="margin-right: 5px;"></span> Seleccionar Archivo
                                                        <input type="file" style="visibility: hidden; position: absolute;">
                                                    </span>                                                
                                                    <button class="btn btn-default" ng-click="$flow.cancel()" ng-disabled="" ng-show="$flow.files.length">
                                                        <span class="glyphicon glyphicon-minus" ></span> Remover
                                                    </button>
                                                    <button class="btn btn-default" ng-click="subir_archivo_plano()" ng-disabled="validacion_buscar_productos() || Pedido.get_numero_pedido() > 0 " ng-show="$flow.files.length">
                                                        <span class="glyphicon glyphicon-cloud-upload" ></span> Subir
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </tab>                                
                                </tabset>
                               
                                <!--Acciones Cotizacion/ Pedido -->    
                                <div class="modal-footer col-md-12" ng-if="!datos_view.cartera">
                                    
                                    
                                     <button class="btn btn-default" ng-click="volver()" >
                                        <span class="glyphicon glyphicon-ok" ></span> volver
                                    </button>
                                    
                                    <button class="btn btn-default" ng-click="volver_cotizacion()" ng-if="Pedido.get_numero_cotizacion() > 0 || Pedido.get_numero_pedido() >0">
                                        <span class="glyphicon glyphicon-ok" ></span> Volver
                                    </button>
                                    <button class="btn btn-default" ng-validate-events="{{ habilitar_generacion_reporte() }}" ng-click="descargar_enviar_reporte()" ng-if="Pedido.get_numero_cotizacion() > 0 || Pedido.get_numero_pedido() >0">
                                        <span class="glyphicon glyphicon-cog" ></span> Generar reporte
                                    </button>
                                    
                                     <button class="btn btn-default" ng-validate-events="{{ habilitar_generacion_reporte() }}" ng-click="registrarProductoModificado()" ng-if="Pedido.get_numero_pedido() >0" ng-disabled="!datos_view.btnSolicitarAutorizacionCartera">
                                        <span class="glyphicon glyphicon-cog" ></span> Solicitar autorizacion cartera 
                                    </button>
                                   <!-- <button class="btn btn-default" ng-click="aceptar_cotizacion()" ng-if="Pedido.get_aprobado_cartera() == '' || Pedido.get_aprobado_cartera() === '0' || Pedido.get_numero_pedido() >0 " >//-->
                                  <button class="btn btn-default" ng-click="aceptar_cotizacion()" ng-if="Pedido.get_aprobado_cartera() == '' || Pedido.get_estado_cotizacion() ==1 || Pedido.get_estado_cotizacion() ==2 || Pedido.get_estado_cotizacion() ==4 || Pedido.get_estado_cotizacion() ==6" >
                                        
                                   
                                   <span class="glyphicon glyphicon-ok" ></span> Aceptar 
                                    </button>                                
                                    <button class="btn btn-default" ng-click="gestionar_pedido()" ng-if="Pedido.get_numero_cotizacion() > 0 && Pedido.get_aprobado_cartera() === '1'" ng-disabled="Pedido.get_estado_cotizacion() == '0'">
                                        <span class="glyphicon glyphicon-ok" ></span> Generar Pedido
                                    </button>                                
                                </div> 
                                <!--Acciones Cartera-->
                                <div class="modal-footer col-md-12" ng-if="datos_view.cartera">                                                             
                                    <button class="btn btn-default" ng-click="gestion_cartera(4)" ng-disabled ="Pedido.get_estado_cotizacion() ==5 || Pedido.getEstado() ==4">
                                        <span class="glyphicon glyphicon-remove" ></span> Denegado Cartera
                                    </button>
                                <!--   <button class="btn btn-default" ng-click="gestion_cartera(1)" ng-disabled ="Pedido.getEstado() !=4 && !items >0 || Pedido.get_estado_cotizacion() ==5">
                                        <span class="glyphicon glyphicon-ok" ></span> Aprobado Cartera 
                                    </button> //-->
                                     <button class="btn btn-default" ng-click="gestion_cartera(1)" ng-disabled ="Pedido.getEstado() !=4 && !items >0 || Pedido.get_estado_cotizacion() ==5">
                                        <span class="glyphicon glyphicon-ok" ></span> Aprobado Cartera 
                                    </button>
                                    
                                </div>                              
                            </div>
                        </div>
                    </div>
                </div>       
            </div>
        </div>
        <div  class="slide" slide-content open-callback="gestionar_productos_clientes" close-callback="cerrar_gestion_productos_clientes"   >
            <div ng-include src="slideurl"  ></div>
        </div>
   
    <visualizar-reporte></visualizar-reporte>





         </div>

