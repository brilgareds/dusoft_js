<div ng-controller="PlanillasFarmaciaController">
    <div ng-controller="ListarPlanillasFarmaciaController">

        <div class="row">
            <div class="col-md-3">
                <p class="input-group">

                    <button type="button" class="btn btn-default btn-medium pull-right ng-scope" ng-click="gestionar_planilla_farmacias()">
                        <span class="glyphicon glyphicon-plus"></span> Generar Planilla Farmacias
                    </button>
                </p>
            </div>

            <div class="col-md-3">
                <p class="input-group">

                    <input type="text" class="form-control readonlyinput" datepicker-popup="{{format}}" ng-model="datos_view.fecha_inicial" is-open="datos_view.datepicker_fecha_inicial" min="minDate"   readonly  close-text="Cerrar" ng-change="" clear-text="Borrar" current-text="Hoy" placeholder="Fecha Inicial" show-weeks="false" toggle-weeks-text="#"  />

                    <span class="input-group-btn">
                        <button class="btn btn-default" ng-click="abrir_fecha_inicial($event);"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                </p>
            </div>

            <div class="col-md-3">
                <p class="input-group">

                    <input type="text" class="form-control readonlyinput" datepicker-popup="{{format}}" ng-model="datos_view.fecha_final" is-open="datos_view.datepicker_fecha_final" min="datos_view.fecha_inicial"  readonly  close-text="Cerrar"
                           clear-text="Borrar"  placeholder="Fecha Final" current-text="Hoy" show-weeks="false" toggle-weeks-text="#" />
                    <span class="input-group-btn">

                        <button class="btn btn-default"  ng-click="abrir_fecha_final($event);"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                </p>
            </div>

          <!--  <div class="col-md-2 pull-right">
                <p class="input-group">

                    <input type="text" class="form-control" ng-keypress="buscador_planillas_despacho($event);" ng-model="datos_view.termino_busqueda" placeholder="Buscar" name="" id="" />
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit" ng-click="buscar_planillas_despacho(termino_busqueda);"><i class="glyphicon glyphicon-search"></i></button>
                    </span>
                </p>
            </div>//-->
           <div ng-class="contenedorBuscador">                                

                                         <div class="input-group">
                                             <div class="input-group-btn">
                                               <button type="button" class="btn btn-default dropdown-toggle" 
                                                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >{{filtro.nombre}} <span class="caret"></span></button>
                                               <ul class="dropdown-menu">
                                                 <li ng-repeat="filtro in filtros">
                                                     <a href="javascript:void(0)" ng-click="onSeleccionFiltro(filtro)">{{filtro.nombre}}</a>
                                                 </li>
                                               </ul>
                                             </div>
                                             
                                              
                                              <button ng-show="visibleListaEstados" type="button" 
                                                      class="btn btn-default dropdown-toggle " 
                                                      data-toggle="dropdown" 
                                                      aria-haspopup="true" aria-expanded="false" >{{filtroEstado.nombre}} <span class="caret"></span></button>
                                               <ul class="dropdown-menu">
                                                 <li ng-repeat="estado in filtrosEstados">
                                                     <a href="javascript:void(0)" ng-click="onSeleccionEstadoFiltro(estado)">{{estado.nombre}}</a>
                                                 </li>
                                               </ul>
                                             
                                             
                                             
                                             
                                             <input ng-show="visibleBuscador" 
                                                    type="text" 
                                                    class="form-control" 
                                                    ng-keypress="buscador_planillas_despacho($event, termino_busqueda);"  
                                                    ng-model="datos_view.termino_busqueda" 
                                                    placeholder="Buscar" name="" id="" />
                                            <div class="input-group-btn" ng-show="visibleBotonBuscador" >
                                                <button class="btn btn-default pull-right" type="submit" ng-click="buscar_planillas_despacho( termino_busqueda)"><i class="glyphicon glyphicon-search"></i></button>
                                            </div>
                                       </div>



                                 </div>

        </div>



        <div class="defaultGrid" ng-grid="lista_planillas_farmacia" > </div>

        </br>

        <div class="row text-center">
            <button type="button" class="btn btn-default btn-medium" ng-disabled="pagina_actual == 1" ng-click="pagina_anterior()">
                <span class="glyphicon glyphicon-chevron-left" ></span>
            </button>
            <button type="button" class="btn btn-default btn-medium" ng-disabled="cantidad_items < 25" ng-click="pagina_siguiente()">
                <span class="glyphicon glyphicon-chevron-right" ></span>
            </button>
        </div>
    </div>
    <visualizar-reporte></visualizar-reporte>
</div>
